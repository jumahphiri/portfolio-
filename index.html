<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Juma Phiri — Portfolio</title>
  <meta name="description" content="Portfolio of Juma Phiri — Front-end Developer & Database Specialist" />
  <style>
    :root{
      --bg:#f6f8fb; --card:#ffffff; --text:#0f1724; --muted:#64748b; --accent:#0066ff;
    }
    [data-theme="dark"]{
      --bg:#0b1220; --card:#071028; --text:#e6eef8; --muted:#9fb1cc; --accent:#4da3ff;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial}
    body{background:linear-gradient(180deg,var(--bg),#e9f0ff);color:var(--text);-webkit-font-smoothing:antialiased}
    .container{max-width:1100px;margin:32px auto;padding:24px}

    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:14px}
    .avatar{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#a0d8ff);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    nav a{margin:0 8px;color:var(--muted);text-decoration:none;font-weight:600}
    .hero{display:grid;grid-template-columns:1fr 360px;gap:28px;margin-top:28px}
    .card{background:var(--card);border-radius:14px;padding:22px;box-shadow:0 6px 20px rgba(2,6,23,0.06)}
    h1{margin:0;font-size:28px}
    .lead{color:var(--muted);margin-top:8px}

    .skills{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
    .skill{padding:8px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(0,0,0,0.03),rgba(0,0,0,0.02));font-size:13px}

    .projects-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin-top:18px}
    .project{padding:16px;border-radius:10px;cursor:pointer;transition:transform .2s}
    .project:hover{transform:translateY(-3px)}
    .filters{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .filter-btn{padding:8px 10px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);background:transparent;cursor:pointer;transition:.2s}
    .filter-btn:hover{background:var(--accent);color:white}

    footer{margin-top:32px;text-align:center;color:var(--muted)}

    @media (max-width:980px){.hero{grid-template-columns:1fr}}
    @media (max-width:640px){.avatar{width:56px;height:56px}}

    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:10}
    .modal{max-width:900px;width:100%;background:var(--card);border-radius:12px;padding:18px;box-shadow:0 4px 20px rgba(0,0,0,0.2)}

    form{display:flex;flex-direction:column;gap:12px}
    input,textarea{padding:10px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);background:transparent;color:var(--text)}
    button{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:white;font-weight:700;cursor:pointer;transition:.2s}
    button:hover{opacity:0.9}

    .top-controls{display:flex;gap:8px;align-items:center}
    .theme-toggle{padding:8px;border-radius:8px;border:1px solid rgba(2,6,23,0.06);cursor:pointer}
  </style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <div class="brand">
        <div class="avatar">JP</div>
        <div>
          <div style="font-weight:800">Juma Phiri</div>
          <div style="font-size:13px;color:var(--muted)">Front-end Developer • Database Developer / Network Engineer</div>
        </div>
      </div>
      <div class="top-controls">
        <nav>
          <a href="#about">About</a>
          <a href="#projects">Projects</a>
          <a href="#contact">Contact</a>
          <a href="https://github.com/jumahphiri/" target="_blank">GitHub</a>
        </nav>
        <button class="theme-toggle" id="themeToggle" title="Toggle theme">Toggle</button>
      </div>
    </header>

    <main class="hero">
      <section class="card fade-in">
        <h1>Hello — I'm Juma</h1>
        <p class="lead">I build user-friendly websites, manage databases, and provide network solutions. I enjoy crafting efficient systems and functional user experiences.</p>
        <div class="skills">
          <span class="skill">HTML</span>
          <span class="skill">CSS</span>
          <span class="skill">JavaScript</span>
          <span class="skill">Networking (Cisco Packet Tracer)</span>
          <span class="skill">Customer Support</span>
          <span class="skill">Database Management (MySQL Workbench)</span>
        </div>

        <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap">
          <a href="#projects"><button>See Projects</button></a>
          <button id="downloadCV">Download CV</button>
        </div>

        <div style="margin-top:16px;color:var(--muted);font-size:13px">Location: Lusaka, Zambia</div>
      </section>

      <aside class="card fade-in">
        <h3>Quick Info</h3>
        <p style="color:var(--muted)">Available for remote work · K2,500/month (negotiable) · Languages: English</p>
        <hr style="margin:12px 0;border:none;border-top:1px solid rgba(2,6,23,0.04)" />
        <h4>Contact</h4>
        <div style="color:var(--muted)">Email: <strong>jumaphiri2424@gmail.com</strong></div>
        <div style="margin-top:12px">
          <a href="#contact"><button>Send Message</button></a>
        </div>
      </aside>
    </main>

    <section id="projects" style="margin-top:28px">
      <div class="card">
        <h2>Latest GitHub Projects</h2>
        <p style="color:var(--muted)">Automatically fetched from <a href="https://github.com/jumahphiri/" target="_blank">GitHub</a>.</p>
        <div class="projects-grid" id="githubProjects"></div>
      </div>
    </section>

    <section id="contact" style="margin-top:20px">
      <div class="card">
        <h2>Contact</h2>
        <form id="contactForm">
          <input type="text" id="name" placeholder="Your name" required />
          <input type="email" id="email" placeholder="Your email" required />
          <textarea id="message" rows="5" placeholder="Message" required></textarea>
          <div style="display:flex;gap:8px;align-items:center">
            <button type="submit">Send message</button>
            <div id="formResult" style="color:var(--muted)"></div>
          </div>
        </form>
      </div>
    </section>

    <footer>
      <div class="card" style="margin-top:14px">
        © <span id="year"></span> Juma Phiri — copyrights all reserved |JumaPM-TECH 
        <a href="https://github.com/jumahphiri/" target="_blank">GitHub</a>
      </div>
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const saved = localStorage.getItem('theme');
    if(saved === 'dark') document.documentElement.setAttribute('data-theme','dark');
    themeToggle.addEventListener('click', ()=>{
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      if(isDark){ document.documentElement.removeAttribute('data-theme'); localStorage.setItem('theme','light'); }
      else { document.documentElement.setAttribute('data-theme','dark'); localStorage.setItem('theme','dark'); }
    });

    // Contact form
    const form=document.getElementById('contactForm');
    const formResult=document.getElementById('formResult');
    form.addEventListener('submit', e=>{
      e.preventDefault();
      const name=document.getElementById('name').value.trim();
      const email=document.getElementById('email').value.trim();
      const message=document.getElementById('message').value.trim();
      if(!name||!email||!message){ formResult.textContent='Please complete all fields.'; return; }
      if(!/^\\S+@\\S+\\.\\S+$/.test(email)){ formResult.textContent='Please enter a valid email.'; return; }
      formResult.textContent='Sending...';
      setTimeout(()=>{ formResult.textContent='Message sent — thank you!'; form.reset(); },900);
    });

    // ✅ Download CV
    document.getElementById('downloadCV').addEventListener('click', ()=>{
      const a=document.createElement('a');
      a.href='Juma-Phir.pdf'; // Place your CV in the same folder or replace with hosted link
      a.download='Juma-Phiri.pdf';
      a.click();
    });

    // ✅ Auto-load GitHub repos
    async function loadRepos(){
      const container=document.getElementById('githubProjects');
      try{
        const res=await fetch('https://api.github.com/users/jumahphiri/repos?sort=updated&per_page=6');
        const repos=await res.json();
        if(repos.message){ container.innerHTML='<p>Unable to load repositories.</p>'; return; }
        container.innerHTML = repos.map(r=>`
          <div class=\"project card\">
            <h3>${r.name}</h3>
            <p style=\"color:var(--muted);font-size:13px;\">${r.description || 'No description provided.'}</p>
            <a href=\"${r.html_url}\" target=\"_blank\"><button>View on GitHub</button></a>
          </div>`).join('');
      }catch(err){
        container.innerHTML='<p>Failed to load repositories.</p>';
      }
    }
    loadRepos();
  </script>
</body>
</html>

